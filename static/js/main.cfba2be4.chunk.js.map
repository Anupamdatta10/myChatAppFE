{"version":3,"sources":["componant/Chat.js","config.js","App.js","reportWebVitals.js","index.js"],"names":["Chat","socket","username","room","useState","currentMessage","setCurrentMessage","messageList","setMessageList","file","setFile","fileType","setFileType","handelFile","e","console","log","target","files","reader","FileReader","readAsDataURL","onload","result","onerror","error","getBase64","sendMessage","messageData","author","message","type","time","Date","now","getHours","getMinutes","name","emit","list","useEffect","on","data","className","map","messageContent","id","includes","src","fileName","download","href","value","placeholder","onChange","event","onKeyPress","key","onClick","config","io","connect","Config","base_url","App","setUsername","setRoom","showChat","setShowChat","room_user","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yOAmHeA,MAhHf,SAAc,GAA6B,IAA3BC,EAAM,EAANA,OAAQC,EAAQ,EAARA,SAAUC,EAAI,EAAJA,KAChC,EAA4CC,mBAAS,IAAG,mBAAjDC,EAAc,KAAEC,EAAiB,KACxC,EAAsCF,mBAAS,IAAG,mBAA3CG,EAAW,KAAEC,EAAc,KAClC,EAAwBJ,oBAAS,GAAM,mBAAhCK,EAAI,KAAEC,EAAO,KACpB,EAAgCN,mBAAS,IAAG,mBAArCO,EAAQ,KAAEC,EAAW,KACtBC,EAAa,SAACC,GAClBC,QAAQC,IAAIF,EAAEG,OAAOC,MAAM,IAK7B,SAAmBT,GACjB,IAAIU,EAAS,IAAIC,WACjBD,EAAOE,cAAcZ,GACrBU,EAAOG,OAAS,WAEdhB,EAAkBa,EAAOI,OAC3B,EACAJ,EAAOK,QAAU,SAAUC,GACzBV,QAAQC,IAAI,UAAWS,EACzB,CACF,CAdEC,CAAUZ,EAAEG,OAAOC,MAAM,IACzBN,EAAYE,EAAEG,OAAOC,MAAM,IAC3BR,GAAQ,EACV,EAaMiB,EAAW,iDAAG,iGACK,KAAnBtB,EAAqB,gBAatB,OAZGuB,EAAc,CAChBzB,KAAMA,EACN0B,OAAQ3B,EACR4B,QAASzB,EACT0B,KAAMtB,EAAOE,EAASoB,KAAO,OAC7BC,KACE,IAAIC,KAAKA,KAAKC,OAAOC,WACrB,IACA,IAAIF,KAAKA,KAAKC,OAAOE,cAErB3B,IACFmB,EAAsB,SAAIjB,EAAS0B,MACpC,SACKpC,EAAOqC,KAAK,eAAgBV,GAAa,KAAD,EAC9CpB,GAAe,SAAC+B,GAAI,4BAASA,GAAI,CAAEX,GAAc,IACjDtB,EAAkB,IAClBI,GAAQ,GACRE,EAAY,IAAI,2CAEnB,kBArBgB,mCAgCjB,OATA4B,qBAAU,WACRvC,EAAOwC,GAAG,mBAAmB,SAACC,GAC5BlC,GAAe,SAAC+B,GAAI,4BAASA,GAAI,CAAEG,GAAO,GAC5C,IACAzC,EAAOwC,GAAG,aAAa,SAACC,GACtBlC,GAAe,SAAC+B,GAAI,4BAASA,GAAI,CAAEG,GAAO,GAC5C,GACF,GAAG,CAACzC,IAGF,sBAAK0C,UAAU,cAAa,UAC1B,qBAAKA,UAAU,cAAa,SAC1B,4CAEF,qBAAKA,UAAU,YAAW,SACxB,cAAC,IAAc,CAACA,UAAU,oBAAmB,SAC1CpC,EAAYqC,KAAI,SAACC,GAChB,OACE,mCAA6B,WAA1BA,EAAehB,OAAsB,qBAAKc,UAAU,iBAAgB,SAAEE,EAAef,UACtF,qBACEa,UAAU,UACVG,GAAI5C,IAAa2C,EAAehB,OAAS,MAAQ,QAAQ,SAEzD,gCACE,qBAAKc,UAAU,kBAAiB,SACP,QAAvBE,EAAed,KACb,4BAAIc,EAAef,UAAe,mCAAGe,EAAed,KAAKgB,SAAS,SAChE,qBAAKJ,UAAU,cAAcK,IAAKH,EAAef,UAC/C,qCAAE,4BAAIe,EAAeI,WAAa,sBAAMN,UAAU,WAAU,SAAC,mBAAGO,SAAUL,EAAeI,SAAUE,KAAMN,EAAef,QAAQ,6BAIxI,sBAAKa,UAAU,eAAc,UAC3B,mBAAGG,GAAG,OAAM,SAAED,EAAeb,OAC7B,mBAAGc,GAAG,SAAQ,SAAED,EAAehB,kBAM3C,QAGJ,sBAAKc,UAAU,cAAa,UAC1B,uBACEZ,KAAK,OACLqB,MAAO3C,EAAOE,EAAS0B,KAAOhC,EAC9BgD,YAAY,SACZC,SAAU,SAACC,GAEPjD,EADEG,EACgBJ,EAEAkD,EAAMtC,OAAOmC,MAEnC,EACAI,WAAY,SAACD,GACG,UAAdA,EAAME,KAAmB9B,GAC3B,IAEF,wBAAQ+B,QAAS,WAAQ/B,GAAc,EAAE,uBAE3C,uBAAOI,KAAK,OAAOuB,SAAU,SAACxC,GAAQD,EAAWC,EAAG,MAG1D,EC7Ge6C,EAJH,CACR,SAAW,sCCKT1D,EAAS2D,IAAGC,QAAQC,EAAOC,UA6ClBC,MA3Cf,WACE,MAAgC5D,mBAAS,IAAG,mBAArCF,EAAQ,KAAE+D,EAAW,KAC5B,EAAwB7D,mBAAS,IAAG,mBAA7BD,EAAI,KAAE+D,EAAO,KACpB,EAAgC9D,oBAAS,GAAM,mBAAxC+D,EAAQ,KAAEC,EAAW,KAY5B,OACE,qBAAKzB,UAAU,MAAK,SAChBwB,EAoBA,cAAC,EAAI,CAAClE,OAAQA,EAAQC,SAAUA,EAAUC,KAAMA,IAnBhD,sBAAKwC,UAAU,oBAAmB,UAChC,6CACA,uBACEZ,KAAK,OACLsB,YAAY,UACZC,SAAU,SAACC,GACTU,EAAYV,EAAMtC,OAAOmC,MAC3B,IAEF,uBACErB,KAAK,OACLsB,YAAY,aACZC,SAAU,SAACC,GACTW,EAAQX,EAAMtC,OAAOmC,MACvB,IAEF,wBAAQM,QA7BC,WACf,GAAiB,KAAbxD,GAA4B,KAATC,EAAa,CAClC,IAAIkE,EAAU,CAAC,EACfA,EAAgB,KAAEnE,EAClBmE,EAAgB,KAAElE,EAClBF,EAAOqC,KAAK,YAAa+B,GACzBD,GAAY,EACd,CACF,EAqBkC,6BAOpC,ECrCeE,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAAM,EAANA,OAAQC,EAAM,EAANA,OAAQC,EAAM,EAANA,OAAQC,EAAM,EAANA,OAAQC,EAAO,EAAPA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,EACV,GAEJ,ECLAQ,IAASC,OACP,cAAC,IAAMC,WAAU,UACf,cAAC,EAAG,MAENC,SAASC,eAAe,SAM1Bb,G","file":"static/js/main.cfba2be4.chunk.js","sourcesContent":["import React, { useEffect, useState ,useRef} from \"react\";\r\nimport ScrollToBottom from \"react-scroll-to-bottom\";\r\n\r\nfunction Chat({ socket, username, room }) {\r\n  const [currentMessage, setCurrentMessage] = useState(\"\");\r\n  const [messageList, setMessageList] = useState([]);\r\n  const [file, setFile] = useState(false);\r\n  const [fileType, setFileType] = useState(\"\");\r\n  const handelFile = (e) => {\r\n    console.log(e.target.files[0])\r\n    getBase64(e.target.files[0])\r\n    setFileType(e.target.files[0])\r\n    setFile(true)\r\n  }\r\n  function getBase64(file) {\r\n    var reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = function () {\r\n      //console.log(reader.result);\r\n      setCurrentMessage(reader.result)\r\n    };\r\n    reader.onerror = function (error) {\r\n      console.log('Error: ', error);\r\n    };\r\n  }\r\n\r\n  const sendMessage = async () => {\r\n    if (currentMessage !== \"\") {\r\n      let messageData = {\r\n        room: room,\r\n        author: username,\r\n        message: currentMessage,\r\n        type: file ? fileType.type : 'text',\r\n        time:\r\n          new Date(Date.now()).getHours() +\r\n          \":\" +\r\n          new Date(Date.now()).getMinutes(),\r\n      };\r\n      if (file) {\r\n        messageData[\"fileName\"] = fileType.name\r\n      }\r\n      await socket.emit(\"send_message\", messageData);\r\n      setMessageList((list) => [...list, messageData]);\r\n      setCurrentMessage(\"\");\r\n      setFile(false);\r\n      setFileType(\"\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket.on(\"receive_message\", (data) => {\r\n      setMessageList((list) => [...list, data]);\r\n    });\r\n    socket.on(\"user_join\", (data) => {\r\n      setMessageList((list) => [...list, data]);\r\n    })\r\n  }, [socket]);\r\n\r\n  return (\r\n    <div className=\"chat-window\">\r\n      <div className=\"chat-header\">\r\n        <p>Live Chat</p>\r\n      </div>\r\n      <div className=\"chat-body\">\r\n        <ScrollToBottom className=\"message-container\">\r\n          {messageList.map((messageContent) => {\r\n            return (\r\n              <>{messageContent.author === \"system\" ? <div className=\"system-message\">{messageContent.message}</div> :\r\n                <div\r\n                  className=\"message\"\r\n                  id={username === messageContent.author ? \"you\" : \"other\"}\r\n                >\r\n                  <div>\r\n                    <div className=\"message-content\">{\r\n                      messageContent.type == 'text' ?\r\n                        <p>{messageContent.message}</p> : <>{messageContent.type.includes('image') ?\r\n                          <img className=\"img-message\" src={messageContent.message} />\r\n                          : <><p>{messageContent.fileName}</p><span className=\"download\"><a download={messageContent.fileName} href={messageContent.message}>&#8595;</a></span></>}</>\r\n\r\n                    }\r\n                    </div>\r\n                    <div className=\"message-meta\">\r\n                      <p id=\"time\">{messageContent.time}</p>\r\n                      <p id=\"author\">{messageContent.author}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>}\r\n              </>\r\n            );\r\n          })}\r\n        </ScrollToBottom>\r\n      </div>\r\n      <div className=\"chat-footer\">\r\n        <input\r\n          type=\"text\"\r\n          value={file ? fileType.name : currentMessage}\r\n          placeholder=\"Hey...\"\r\n          onChange={(event) => {\r\n            if (file) {\r\n              setCurrentMessage(currentMessage)\r\n            } else {\r\n              setCurrentMessage(event.target.value);\r\n            }\r\n          }}\r\n          onKeyPress={(event) => {\r\n            event.key === \"Enter\" && sendMessage();\r\n          }}\r\n        />\r\n        <button onClick={() => { sendMessage() }}>&#9658;</button>\r\n      </div>\r\n      <input type=\"file\" onChange={(e) => { handelFile(e) }} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chat;\r\n","let config=({\r\n    \"base_url\":\"https://anupamchatapp.onrender.com\"\r\n})\r\n\r\nexport default config;","import \"./App.css\";\r\nimport io from \"socket.io-client\";\r\nimport { useState } from \"react\";\r\nimport Chat from \"./componant/Chat\";\r\nimport Config  from './config'\r\n\r\nconst socket = io.connect(Config.base_url);\r\n\r\nfunction App() {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [room, setRoom] = useState(\"\");\r\n  const [showChat, setShowChat] = useState(false);\r\n\r\n  const joinRoom = () => {\r\n    if (username !== \"\" && room !== \"\") {\r\n      let room_user={}\r\n      room_user[\"user\"]=username\r\n      room_user[\"room\"]=room\r\n      socket.emit(\"join_room\", room_user);\r\n      setShowChat(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      {!showChat ? (\r\n        <div className=\"joinChatContainer\">\r\n          <h3>Join A Chat</h3>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"John...\"\r\n            onChange={(event) => {\r\n              setUsername(event.target.value);\r\n            }}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Room ID...\"\r\n            onChange={(event) => {\r\n              setRoom(event.target.value);\r\n            }}\r\n          />\r\n          <button onClick={joinRoom}>Join A Room</button>\r\n        </div>\r\n      ) : (\r\n        <Chat socket={socket} username={username} room={room} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}